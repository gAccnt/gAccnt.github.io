<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SpeakLink Home</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>ğŸ™ï¸ SpeakLink</h1>
    <p>Say <strong>"Start"</strong> to proceed.</p>
    <button onclick="window.location.href='services.html'">Go to Services</button>
    <p id="status">Waiting for voice input...</p>
  </div>

  <script>
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    if (!SpeechRecognition) {
      document.getElementById("status").innerText = "âŒ Speech recognition not supported in this browser.";
    } else {
      const recognition = new SpeechRecognition();
      recognition.continuous = true; // Keep listening during a session
      recognition.interimResults = false; // Only process final results
      recognition.lang = "en-US"; // You can change to "fil-PH"

      recognition.onresult = (event) => {
        const transcript = event.results[event.results.length - 1][0].transcript.toLowerCase().trim();
        document.getElementById("status").innerText = `ğŸ—£ Heard: "${transcript}"`;

        // if (transcript.startsWith("start")) {
        if (transcript.toLowerCase().includes("start") || transcript.toLowerCase().includes("magsimula")) {
          window.location.href = "services.html"; // To be created later
        } else {
          status.textContent += " â€” try saying the 'Start'";
        }
      };

      recognition.onerror = (event) => {
        document.getElementById("status").innerText = `âš  Error: ${event.error}`;
      };

      recognition.onend = () => {
        // ğŸ”„ Restart listening automatically
        recognition.start();
      };

      // ğŸš€ Start immediately
      recognition.start();
    }

  </script>
</body>
</html>
	